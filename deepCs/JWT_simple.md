## JWT

1. JWT의 구조
JWT는 .(점)을 구분자로 하여 헤더(Header), 페이로드(Payload), **서명(Signature)**의 세 부분으로 구성된다.

헤더 (Header): 토큰의 타입(JWT)과 서명 생성에 사용된 암호화 알고리즘(HMAC SHA256, RSA 등) 종류가 담긴다.

페이로드 (Payload): 토큰을 통해 전달할 실질적인 데이터인 **클레임(Claim)**이 포함된다. 여기에는 사용자 ID, 유효기간, 권한 정보 등이 저장된다. (단, 암호화되지 않고 인코딩만 되므로 민감한 개인정보는 담지 않아야 한다.)

서명 (Signature): 토큰의 위변조를 방지하기 위한 핵심 부분이다. 헤더와 페이로드의 값을 인코딩한 후, 서버가 가진 비밀키(Secret Key) 혹은 **개인키(Private Key)**로 암호화(해싱)하여 생성한다.

2. 서명 검증과 무결성 확인
수신 측(서버)이 JWT를 검증하는 과정은 다음과 같다. 서버는 전달받은 토큰의 헤더와 페이로드를 자신의 키(대칭키 또는 공개키)를 사용해 다시 계산한다. 이 계산된 값과 토큰에 포함된 서명(Signature) 값이 일치하는지 대조함으로써, 통신 중간에 페이로드 내용이 변조되지 않았는지, 그리고 신뢰할 수 있는 서버가 발급한 토큰인지(무결성)를 확인한다.

3. Spring Security와 HTTPS 환경에서의 활용
현재 Spring Security 프레임워크에서도 사용자 **인증(Authentication)**과 인가(Authorization) 처리에 JWT를 적극 활용한다.

Access Token & Refresh Token: 보안을 강화하기 위해 유효기간이 짧은 Access Token과, 이를 갱신하기 위한 유효기간이 긴 Refresh Token을 함께 발급하는 전략(Strategy)을 주로 사용한다.

전송 보안: JWT 자체는 내용을 숨기는 암호화가 아니라 '서명'을 통한 무결성 확인이 주 목적이므로, 토큰 자체를 탈취당하면 내용이 노출될 수 있다. 따라서 반드시 HTTPS 연결을 수립하여 전송 구간을 암호화한 뒤, 안전하게 토큰을 주고받아야 한다.
