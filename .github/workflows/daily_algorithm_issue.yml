name: 'üóìÔ∏è Ïò§ÎäòÏùò ÏïåÍ≥†Î¶¨Ï¶ò Ïù¥Ïäà ÏÉùÏÑ±'

on:
  # ÌïúÍµ≠ ÏãúÍ∞Ñ(KST) Í∏∞Ï§Ä Ïõî~Í∏à ÏûêÏ†ïÏóê Ïã§Ìñâ (UTC 15:00)
  schedule:
    - cron: '0 15 * * 1-5'

  # ÏàòÎèô Ïã§Ìñâ Î≤ÑÌäº Ï∂îÍ∞Ä
  workflow_dispatch:

jobs:
  create_daily_issue:
    name: Create Daily Algorithm Issue
    runs-on: ubuntu-latest
    permissions:
      issues: write

    steps:
      - name: 'Set KST Timezone'
        uses: szenius/set-timezone@v2.0
        with:
          timezoneLinux: 'Asia/Seoul'
      
      - name: 'Generate Issue Content'
        id: issue_content
        run: |
          # üé≤ ÏÑûÏùÄ 36ÏùºÏπò ÌïôÏäµ Ï£ºÏ†ú Î∞∞Ïó¥
          TOPICS=(
            "Ïú†ÎãàÏò®-ÌååÏù∏Îìú" "Ìä∏Î¶¨/Ïù¥ÏßÑ ÌÉêÏÉâ Ìä∏Î¶¨" "DP - ÌÉÄÎ∑∏Î†àÏù¥ÏÖò" "ÏÜåÏàò ÌåêÎ≥Ñ - ÏóêÎùºÌÜ†Ïä§ÌÖåÎÑ§Ïä§Ïùò Ï≤¥" "ÏàúÏó¥/Ï°∞Ìï©/Î∂ÄÎ∂ÑÏßëÌï©"
            "Ìö®Ïú®Ï†ÅÏù∏ Ï†ïÎ†¨ (O(N log N))" "Ïä¨ÎùºÏù¥Îî© ÏúàÎèÑÏö∞" "ÏµúÏÜå Ïã†Ïû• Ìä∏Î¶¨ - ÌîÑÎ¶º" "ÏúÑÏÉÅ Ï†ïÎ†¨" "ÍπäÏù¥ Ïö∞ÏÑ† ÌÉêÏÉâ (DFS)"
            "Ï°∞Ìï©Î°†" "ÏÑ∏Í∑∏Î®ºÌä∏ Ìä∏Î¶¨" "Í∑∏Î¶¨Îîî ÏïåÍ≥†Î¶¨Ï¶ò" "Ïú†ÌÅ¥Î¶¨Îìú Ìò∏Ï†úÎ≤ï" "Í∏∞Î≥∏ Ï†ïÎ†¨ (O(N^2))"
            "Ìä∏ÎùºÏù¥" "Ìà¨ Ìè¨Ïù∏ÌÑ∞" "ÎùºÎπà-Ïπ¥ÌîÑ ÏïåÍ≥†Î¶¨Ï¶ò" "Í≥ÑÏàò Ï†ïÎ†¨" "ÎπÑÌä∏ÎßàÏä§ÌÇπ"
            "ÏµúÎã® Í≤ΩÎ°ú - Îã§ÏùµÏä§Ìä∏Îùº" "Ïä§ÌÉù/ÌÅê" "Í∑∏ÎûòÌîÑ Í∏∞Î≥∏" "Î∞±Ìä∏ÎûòÌÇπ" "ÌéúÏúÖ Ìä∏Î¶¨"
            "DP - Î©îÎ™®Ïù¥Ï†úÏù¥ÏÖò" "KMP ÏïåÍ≥†Î¶¨Ï¶ò" "ÎÑàÎπÑ Ïö∞ÏÑ† ÌÉêÏÉâ (BFS)" "ÏµúÏÜå Ïã†Ïû• Ìä∏Î¶¨ - ÌÅ¨Î£®Ïä§Ïπº" "ÏµúÏÜå Í≥µÌÜµ Ï°∞ÏÉÅ (LCA)"
            "Î™®ÎìàÎü¨ Ïó∞ÏÇ∞" "Ïù¥Î∂Ñ ÌÉêÏÉâ" "ÏµúÎã® Í≤ΩÎ°ú - ÌîåÎ°úÏù¥Îìú-ÏõåÏÖú" "Ìûô/Ïö∞ÏÑ†ÏàúÏúÑ ÌÅê" "Îã®Ïàú Î∞òÎ≥µ/Ï°∞Í±¥Î¨∏ (Brute Force)" "Ìï¥Ïãú"
          )

          # ÏãúÏûë ÎÇ†Ïßú (Îã§Ïãú ÏãúÏûë ‚Üí Ïò§ÎäòÎ°ú ÏÑ§Ï†ï)
          START_DATE="2025-09-24"
          START_SECONDS=$(date -d "$START_DATE" +%s)
          TODAY_SECONDS=$(date +%s)
          DAYS_SINCE_START=$(( (TODAY_SECONDS - START_SECONDS) / 86400 ))
          TOPIC_INDEX=$(( DAYS_SINCE_START % ${#TOPICS[@]} ))
          TODAY_TOPIC=${TOPICS[$TOPIC_INDEX]}

          # --- ‚ñº ÎåÄÌëú Î¨∏Ï†ú Îß§Ìïë (ÌïÑÏöîÏãú ÌôïÏû• Í∞ÄÎä•) ---
          case "$TODAY_TOPIC" in
            "Ïù¥Î∂Ñ ÌÉêÏÉâ") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í∞ÄÏû• Í∏¥ Ï¶ùÍ∞ÄÌïòÎäî Î∂ÄÎ∂Ñ ÏàòÏó¥ 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/12015" ;;
            "Í∑∏Î¶¨Îîî ÏïåÍ≥†Î¶¨Ï¶ò") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î≥¥ÏÑù ÎèÑÎëë"; PROBLEM_LINK="https://www.acmicpc.net/problem/1202" ;;
            "ÎÑàÎπÑ Ïö∞ÏÑ† ÌÉêÏÉâ (BFS)") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î≤Ω Î∂ÄÏàòÍ≥† Ïù¥ÎèôÌïòÍ∏∞ 3"; PROBLEM_LINK="https://www.acmicpc.net/problem/16933" ;;
            "ÍπäÏù¥ Ïö∞ÏÑ† ÌÉêÏÉâ (DFS)") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ï†ÑÎã®ÏßÄ ÎèåÎ¶¨Í∏∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/19542" ;;
            "ÎπÑÌä∏ÎßàÏä§ÌÇπ") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î∞úÏ†ÑÏÜå"; PROBLEM_LINK="https://www.acmicpc.net/problem/1102" ;;
            "Ìà¨ Ìè¨Ïù∏ÌÑ∞") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í≥†ÎÉ•Ïù¥"; PROBLEM_LINK="https://www.acmicpc.net/problem/16472" ;;
            "Ïú†ÎãàÏò®-ÌååÏù∏Îìú") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏπúÍµ¨ÎπÑ"; PROBLEM_LINK="https://www.acmicpc.net/problem/16562" ;;
            "Ìûô/Ïö∞ÏÑ†ÏàúÏúÑ ÌÅê") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÌååÏùº Ìï©ÏπòÍ∏∞ 3"; PROBLEM_LINK="https://www.acmicpc.net/problem/13975" ;;
            "Ìï¥Ïãú") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ïù¥Ï§ë Ïö∞ÏÑ†ÏàúÏúÑ ÌÅê"; PROBLEM_LINK="https://www.acmicpc.net/problem/7662" ;;
            "Ïä¨ÎùºÏù¥Îî© ÏúàÎèÑÏö∞") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î¨∏Ïûê Ìï¥ÎèÖ"; PROBLEM_LINK="https://www.acmicpc.net/problem/1593" ;;
            "Î∞±Ìä∏ÎûòÌÇπ") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Îã§Ïù¥Ïñ¥Ìä∏"; PROBLEM_LINK="https://www.acmicpc.net/problem/19942" ;;
            "Ïä§ÌÉù/ÌÅê") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ïò§ÏïÑÏãúÏä§"; PROBLEM_LINK="https://www.acmicpc.net/problem/3015" ;;
            "Ìä∏ÎùºÏù¥") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í∞úÎØ∏Íµ¥"; PROBLEM_LINK="https://www.acmicpc.net/problem/14725" ;;
            "ÏúÑÏÉÅ Ï†ïÎ†¨") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í≤åÏûÑ Í∞úÎ∞ú"; PROBLEM_LINK="https://www.acmicpc.net/problem/1516" ;;
            "ÏÑ∏Í∑∏Î®ºÌä∏ Ìä∏Î¶¨") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í∞ÄÍ≥ÑÎ∂Ä (Hard)"; PROBLEM_LINK="https://www.acmicpc.net/problem/12837" ;;
            "ÏµúÏÜå Ïã†Ïû• Ìä∏Î¶¨ - ÌÅ¨Î£®Ïä§Ïπº") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î≥ÑÏûêÎ¶¨ ÎßåÎì§Í∏∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/4386" ;;
            "ÏµúÏÜå Ïã†Ïû• Ìä∏Î¶¨ - ÌîÑÎ¶º") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Îã§Î¶¨ ÎßåÎì§Í∏∞ 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/17472" ;;
            "ÏµúÏÜå Í≥µÌÜµ Ï°∞ÏÉÅ (LCA)") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ìä∏Î¶¨ÏôÄ ÏøºÎ¶¨ 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/13511" ;;
            "KMP ÏïåÍ≥†Î¶¨Ï¶ò") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ï∞æÍ∏∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/1786" ;;
            "ÏµúÎã® Í≤ΩÎ°ú - Îã§ÏùµÏä§Ìä∏Îùº") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÌååÌã∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/1238" ;;
            "ÏµúÎã® Í≤ΩÎ°ú - ÌîåÎ°úÏù¥Îìú-ÏõåÏÖú") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Î∞±ÏñëÎ°ú Î∏åÎ†àÏù¥ÌÅ¨"; PROBLEM_LINK="https://www.acmicpc.net/problem/11562" ;;
            "DP - ÌÉÄÎ∑∏Î†àÏù¥ÏÖò") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏñëÌåîÏ†ÄÏö∏"; PROBLEM_LINK="https://www.acmicpc.net/problem/2629" ;;
            "DP - Î©îÎ™®Ïù¥Ï†úÏù¥ÏÖò") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÌñâÎ†¨ Í≥±ÏÖà ÏàúÏÑú"; PROBLEM_LINK="https://www.acmicpc.net/problem/11049" ;;
            "Ï°∞Ìï©Î°†") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ï°∞ÏïΩÎèå Í∫ºÎÇ¥Í∏∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/13251" ;;
            "ÏàúÏó¥/Ï°∞Ìï©/Î∂ÄÎ∂ÑÏßëÌï©") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏàúÏó¥Ïùò ÏàúÏÑú"; PROBLEM_LINK="https://www.acmicpc.net/problem/1722" ;;
            "Ìä∏Î¶¨/Ïù¥ÏßÑ ÌÉêÏÉâ Ìä∏Î¶¨") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ìä∏Î¶¨Ïùò ÎèÖÎ¶ΩÏßëÌï©"; PROBLEM_LINK="https://www.acmicpc.net/problem/2213" ;;
            "Í∑∏ÎûòÌîÑ Í∏∞Î≥∏") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í±∞ÏßìÎßê"; PROBLEM_LINK="https://www.acmicpc.net/problem/1043" ;;
            "Îã®Ïàú Î∞òÎ≥µ/Ï°∞Í±¥Î¨∏ (Brute Force)") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Í≤åÎ¶¨Îß®ÎçîÎßÅ"; PROBLEM_LINK="https://www.acmicpc.net/problem/17471" ;;
            "Í∏∞Î≥∏ Ï†ïÎ†¨ (O(N^2))") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ïù∏Ïã∏Îì§Ïùò Í∞ÄÏúÑÎ∞îÏúÑÎ≥¥"; PROBLEM_LINK="https://www.acmicpc.net/problem/16986" ;;
            "ÏÜåÏàò ÌåêÎ≥Ñ - ÏóêÎùºÌÜ†Ïä§ÌÖåÎÑ§Ïä§Ïùò Ï≤¥") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏÑ∏ Í∞úÏùò ÏÜåÏàò Î¨∏Ï†ú"; PROBLEM_LINK="https://www.acmicpc.net/problem/11502" ;;
            "Ìö®Ïú®Ï†ÅÏù∏ Ï†ïÎ†¨ (O(N log N))") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Ïù¥Ï∞®Ïõê Î∞∞Ïó¥Í≥º Ïó∞ÏÇ∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/17140" ;;
            "Ïú†ÌÅ¥Î¶¨Îìú Ìò∏Ï†úÎ≤ï") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏßÅÏÇ¨Í∞ÅÌòï"; PROBLEM_LINK="https://www.acmicpc.net/problem/21573" ;;
            "ÌéúÏúÖ Ìä∏Î¶¨") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÎÇòÎ¨¥ Ïã¨Í∏∞"; PROBLEM_LINK="https://www.acmicpc.net/problem/1280" ;;
            "Î™®ÎìàÎü¨ Ïó∞ÏÇ∞") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="Œ£ (ÏãúÍ∑∏Îßà)"; PROBLEM_LINK="https://www.acmicpc.net/problem/13172" ;;
            "ÎùºÎπà-Ïπ¥ÌîÑ ÏïåÍ≥†Î¶¨Ï¶ò") PROBLEM_TIER="Î∞±Ï§Ä Í≥®Îìú 2"; PROBLEM_TITLE="ÏãúÍ≥Ñ ÏÇ¨ÏßÑÎì§"; PROBLEM_LINK="https://www.acmicpc.net/problem/10266" ;;
          esac

          # Ïù¥Ïäà Ï†úÎ™© & Î≥∏Î¨∏
          echo "ISSUE_TITLE=[$(date +'%Y-%m-%d')] Ïò§ÎäòÏùò ÏïåÍ≥†Î¶¨Ï¶ò: $TODAY_TOPIC" >> "$GITHUB_ENV"

          {
            echo "ISSUE_BODY<<EOF"
            echo "## üéØ Í≥µÎ∂ÄÌï† Ï£ºÏ†ú"
            echo "**$TODAY_TOPIC**"
            echo ""
            echo "---"
            echo ""
            echo "## üìù Í∏∞Î≥∏ ÏïåÍ≥†Î¶¨Ï¶ò ÌãÄ"
            echo "\`\`\`"
            echo "# ‚úèÔ∏è Ïó¨Í∏∞Ïóê Í∏∞Î≥∏ ÌãÄÏùÑ ÏßÅÏ†ë ÏûëÏÑ±ÌïòÏÑ∏Ïöî."
            echo "\`\`\`"
            echo ""
            echo "---"
            echo ""
            echo "## üöÄ ÎåÄÌëú Î¨∏Ï†ú"
            echo "**$PROBLEM_TIER**: [$PROBLEM_TITLE]($PROBLEM_LINK)"
            echo ""
            echo "---"
            echo ""
            echo "## ‚úÖ Ìëº ÌõÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏"
            echo "- [ ] Î¨∏Ï†ú ÌíÄÏù¥ ÏôÑÎ£å"
            echo "- [ ] Í¥ÄÎ†® Í∞úÎÖê Î∏îÎ°úÍ∑∏/ÎÖ∏ÏÖò Ï†ïÎ¶¨ÌïòÍ∏∞"
            echo "EOF"
          } >> "$GITHUB_ENV"

      - name: 'Create GitHub Issue'
        uses: actions/github-script@v7
        env:
          TITLE: ${{ env.ISSUE_TITLE }}
          BODY: ${{ env.ISSUE_BODY }}
        with:
          script: |
            github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: process.env.TITLE,
              body: process.env.BODY,
              labels: ['ÏïåÍ≥†Î¶¨Ï¶ò', 'ÏûêÎèô ÏÉùÏÑ±']
            })
