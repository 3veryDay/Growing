# .github/workflows/daily_algorithm_issue.yml

name: 'ğŸ—“ï¸ ì˜¤ëŠ˜ì˜ ì•Œê³ ë¦¬ì¦˜ ì´ìŠˆ ìƒì„±'

on:
  # í•œêµ­ ì‹œê°„(KST) ê¸°ì¤€ìœ¼ë¡œ ë§¤ì¼ ìì •ì— ì‹¤í–‰ (UTC ê¸°ì¤€ 15:00)
  schedule:
    - cron: '0 15 * * *'
  
  # ìˆ˜ë™ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë²„íŠ¼ ì¶”ê°€
  workflow_dispatch:

jobs:
  create_daily_issue:
    name: Create Daily Algorithm Issue
    runs-on: ubuntu-latest
    permissions:
      issues: write # ì´ìŠˆ ìƒì„± ê¶Œí•œ ë¶€ì—¬

    steps:
      - name: 'Set KST Timezone'
        uses: szenius/set-timezone@v2.0
        with:
          timezoneLinux: 'Asia/Seoul'
      
      - name: 'Generate Issue Content'
        id: issue_content
        run: |
          # 36ì¼ì¹˜ í•™ìŠµ ì£¼ì œ ë°°ì—´
          TOPICS=(
            "ë¹„íŠ¸ë§ˆìŠ¤í‚¹" "ì´ë¶„ íƒìƒ‰" "ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜" "ë„ˆë¹„ ìš°ì„  íƒìƒ‰ (BFS)" "íˆ¬ í¬ì¸í„°" 
            "ìœ ë‹ˆì˜¨-íŒŒì¸ë“œ" "DP - íƒ€ë·¸ë ˆì´ì…˜" "í™/ìš°ì„ ìˆœìœ„ í" "ê¹Šì´ ìš°ì„  íƒìƒ‰ (DFS)" "í•´ì‹œ" 
            "ìŠ¬ë¼ì´ë”© ìœˆë„ìš°" "ë°±íŠ¸ë˜í‚¹" "ìµœë‹¨ ê²½ë¡œ - ë‹¤ìµìŠ¤íŠ¸ë¼" "ìŠ¤íƒ/í" "íŠ¸ë¼ì´" 
            "ìœ„ìƒ ì •ë ¬" "ìˆœì—´/ì¡°í•©/ë¶€ë¶„ì§‘í•©" "ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬" "ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬ - í¬ë£¨ìŠ¤ì¹¼" "DP - ë©”ëª¨ì´ì œì´ì…˜" 
            "ì†Œìˆ˜ íŒë³„ - ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´" "íš¨ìœ¨ì ì¸ ì •ë ¬ (O(N log N))" "ìœ í´ë¦¬ë“œ í˜¸ì œë²•" "ìµœì†Œ ê³µí†µ ì¡°ìƒ (LCA)" "íœìœ… íŠ¸ë¦¬" 
            "KMP ì•Œê³ ë¦¬ì¦˜" "íŠ¸ë¦¬/ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬" "ìµœë‹¨ ê²½ë¡œ - í”Œë¡œì´ë“œ-ì›Œì…œ" "ëª¨ë“ˆëŸ¬ ì—°ì‚°" "ë¼ë¹ˆ-ì¹´í”„ ì•Œê³ ë¦¬ì¦˜" 
            "ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬ - í”„ë¦¼" "ì¡°í•©ë¡ " "ê³„ìˆ˜ ì •ë ¬" "ê·¸ë˜í”„ ê¸°ë³¸" "ë‹¨ìˆœ ë°˜ë³µ/ì¡°ê±´ë¬¸ (Brute Force)" "ê¸°ë³¸ ì •ë ¬ (O(N^2))"
          )
          
          # ì‹œì‘ ë‚ ì§œ ì„¤ì • (YYYY-MM-DD í˜•ì‹)
          START_DATE="2025-09-17"
          START_SECONDS=$(date -d "$START_DATE" +%s)
          TODAY_SECONDS=$(date +%s)
          DAYS_SINCE_START=$(( (TODAY_SECONDS - START_SECONDS) / 86400 ))
          TOPIC_INDEX=$(( DAYS_SINCE_START % ${#TOPICS[@]} ))
          TODAY_TOPIC=${TOPICS[$TOPIC_INDEX]}
          
          # --- â–¼ ì£¼ì œë³„ ëŒ€í‘œ ë¬¸ì œ ìë™ ì„¤ì • ---
          
          case "$TODAY_TOPIC" in
            "ë¹„íŠ¸ë§ˆìŠ¤í‚¹")                  PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë°œì „ì†Œ"; PROBLEM_LINK="https://www.acmicpc.net/problem/1102" ;;
            "ì´ë¶„ íƒìƒ‰")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/12015" ;;
            "ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜")              PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë³´ì„ ë„ë‘‘"; PROBLEM_LINK="https://www.acmicpc.net/problem/1202" ;;
            "ë„ˆë¹„ ìš°ì„  íƒìƒ‰ (BFS)")       PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë²½ ë¶€ìˆ˜ê³  ì´ë™í•˜ê¸° 3"; PROBLEM_LINK="https://www.acmicpc.net/problem/16933" ;;
            "íˆ¬ í¬ì¸í„°")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê³ ëƒ¥ì´"; PROBLEM_LINK="https://www.acmicpc.net/problem/16472" ;;
            "ìœ ë‹ˆì˜¨-íŒŒì¸ë“œ")                PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì¹œêµ¬ë¹„"; PROBLEM_LINK="https://www.acmicpc.net/problem/16562" ;;
            "DP - íƒ€ë·¸ë ˆì´ì…˜")            PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì–‘íŒ”ì €ìš¸"; PROBLEM_LINK="https://www.acmicpc.net/problem/2629" ;;
            "í™/ìš°ì„ ìˆœìœ„ í")              PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="íŒŒì¼ í•©ì¹˜ê¸° 3"; PROBLEM_LINK="https://www.acmicpc.net/problem/13975" ;;
            "ê¹Šì´ ìš°ì„  íƒìƒ‰ (DFS)")       PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì „ë‹¨ì§€ ëŒë¦¬ê¸°"; PROBLEM_LINK="https://www.acmicpc.net/problem/19542" ;;
            "í•´ì‹œ")                        PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì´ì¤‘ ìš°ì„ ìˆœìœ„ í"; PROBLEM_LINK="https://www.acmicpc.net/problem/7662" ;;
            "ìŠ¬ë¼ì´ë”© ìœˆë„ìš°")              PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë¬¸ì í•´ë…"; PROBLEM_LINK="https://www.acmicpc.net/problem/1593" ;;
            "ë°±íŠ¸ë˜í‚¹")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë‹¤ì´ì–´íŠ¸"; PROBLEM_LINK="https://www.acmicpc.net/problem/19942" ;;
            "ìµœë‹¨ ê²½ë¡œ - ë‹¤ìµìŠ¤íŠ¸ë¼")      PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="íŒŒí‹°"; PROBLEM_LINK="https://www.acmicpc.net/problem/1238" ;;
            "ìŠ¤íƒ/í")                     PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì˜¤ì•„ì‹œìŠ¤"; PROBLEM_LINK="https://www.acmicpc.net/problem/3015" ;;
            "íŠ¸ë¼ì´")                      PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê°œë¯¸êµ´"; PROBLEM_LINK="https://www.acmicpc.net/problem/14725" ;;
            "ìœ„ìƒ ì •ë ¬")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê²Œì„ ê°œë°œ"; PROBLEM_LINK="https://www.acmicpc.net/problem/1516" ;;
            "ìˆœì—´/ì¡°í•©/ë¶€ë¶„ì§‘í•©")            PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ìˆœì—´ì˜ ìˆœì„œ"; PROBLEM_LINK="https://www.acmicpc.net/problem/1722" ;;
            "ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬")                PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê°€ê³„ë¶€ (Hard)"; PROBLEM_LINK="https://www.acmicpc.net/problem/12837" ;;
            "ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬ - í¬ë£¨ìŠ¤ì¹¼")   PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë³„ìë¦¬ ë§Œë“¤ê¸°"; PROBLEM_LINK="https://www.acmicpc.net/problem/4386" ;;
            "DP - ë©”ëª¨ì´ì œì´ì…˜")          PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="í–‰ë ¬ ê³±ì…ˆ ìˆœì„œ"; PROBLEM_LINK="https://www.acmicpc.net/problem/11049" ;;
            "ì†Œìˆ˜ íŒë³„ - ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´") PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì„¸ ê°œì˜ ì†Œìˆ˜ ë¬¸ì œ"; PROBLEM_LINK="https://www.acmicpc.net/problem/11502" ;;
            "íš¨ìœ¨ì ì¸ ì •ë ¬ (O(N log N))") PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì´ì°¨ì› ë°°ì—´ê³¼ ì—°ì‚°"; PROBLEM_LINK="https://www.acmicpc.net/problem/17140" ;;
            "ìœ í´ë¦¬ë“œ í˜¸ì œë²•")              PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì§ì‚¬ê°í˜•"; PROBLEM_LINK="https://www.acmicpc.net/problem/21573" ;;
            "ìµœì†Œ ê³µí†µ ì¡°ìƒ (LCA)")       PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="íŠ¸ë¦¬ì™€ ì¿¼ë¦¬ 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/13511" ;;
            "íœìœ… íŠ¸ë¦¬")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë‚˜ë¬´ ì‹¬ê¸°"; PROBLEM_LINK="https://www.acmicpc.net/problem/1280" ;;
            "KMP ì•Œê³ ë¦¬ì¦˜")               PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì°¾ê¸°"; PROBLEM_LINK="https://www.acmicpc.net/problem/1786" ;;
            "íŠ¸ë¦¬/ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬")         PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="íŠ¸ë¦¬ì˜ ë…ë¦½ì§‘í•©"; PROBLEM_LINK="https://www.acmicpc.net/problem/2213" ;;
            "ìµœë‹¨ ê²½ë¡œ - í”Œë¡œì´ë“œ-ì›Œì…œ")  PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë°±ì–‘ë¡œ ë¸Œë ˆì´í¬"; PROBLEM_LINK="https://www.acmicpc.net/problem/11562" ;;
            "ëª¨ë“ˆëŸ¬ ì—°ì‚°")                  PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="Î£ (ì‹œê·¸ë§ˆ)"; PROBLEM_LINK="https://www.acmicpc.net/problem/13172" ;;
            "ë¼ë¹ˆ-ì¹´í”„ ì•Œê³ ë¦¬ì¦˜")            PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì‹œê³„ ì‚¬ì§„ë“¤"; PROBLEM_LINK="https://www.acmicpc.net/problem/10266" ;;
            "ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬ - í”„ë¦¼")       PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ë‹¤ë¦¬ ë§Œë“¤ê¸° 2"; PROBLEM_LINK="https://www.acmicpc.net/problem/17472" ;;
            "ì¡°í•©ë¡ ")                      PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì¡°ì•½ëŒ êº¼ë‚´ê¸°"; PROBLEM_LINK="https://www.acmicpc.net/problem/13251" ;;
            "ê³„ìˆ˜ ì •ë ¬")                    PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="2048 (Easy)"; PROBLEM_LINK="https://www.acmicpc.net/problem/12100" ;;
            "ê·¸ë˜í”„ ê¸°ë³¸")                  PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê±°ì§“ë§"; PROBLEM_LINK="https://www.acmicpc.net/problem/1043" ;;
            "ë‹¨ìˆœ ë°˜ë³µ/ì¡°ê±´ë¬¸ (Brute Force)") PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ê²Œë¦¬ë§¨ë”ë§"; PROBLEM_LINK="https://www.acmicpc.net/problem/17471" ;;
            "ê¸°ë³¸ ì •ë ¬ (O(N^2))")         PROBLEM_TIER="ë°±ì¤€ ê³¨ë“œ 2"; PROBLEM_TITLE="ì¸ì‹¸ë“¤ì˜ ê°€ìœ„ë°”ìœ„ë³´"; PROBLEM_LINK="https://www.acmicpc.net/problem/16986" ;;
          esac

          # ì´ìŠˆ ì œëª©ê³¼ ë³¸ë¬¸ì„ outputsìœ¼ë¡œ ì„¤ì •
          echo "ISSUE_TITLE=[$(date +'%Y-%m-%d')] ì˜¤ëŠ˜ì˜ ì•Œê³ ë¦¬ì¦˜: $TODAY_TOPIC" >> "$GITHUB_ENV"
          
          # ì—¬ëŸ¬ ì¤„ì˜ ë³¸ë¬¸ì„ ìœ„í•´ EOF(End Of File) í˜•ì‹ ì‚¬ìš©
          {
            echo "ISSUE_BODY<<EOF"
            echo "## ğŸ¯ ê³µë¶€í•  ì£¼ì œ"
            echo "**$TODAY_TOPIC**"
            echo ""
            echo "---"
            echo ""
            echo "## ğŸ“ ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜ í‹€"
            echo "\`\`\`"
            echo "# âœï¸ ì—¬ê¸°ì— ê¸°ë³¸ í‹€ì„ ì§ì ‘ ì‘ì„±í•˜ì„¸ìš”."
            echo "\`\`\`"
            echo ""
            echo "---"
            echo ""
            echo "## ğŸš€ ëŒ€í‘œ ë¬¸ì œ"
            echo "**$PROBLEM_TIER**: [$PROBLEM_TITLE]($PROBLEM_LINK)"
            echo ""
            echo "---"
            echo ""
            echo "## âœ… .. í‘¼ í›„ .."
            echo "- [ ] ë¬¸ì œ í’€ì´ ì™„ë£Œ"
            echo "- [ ] ê´€ë ¨ ê°œë… ë¸”ë¡œê·¸ì— ì •ë¦¬í•˜ê¸°"
            echo "EOF"
          } >> "$GITHUB_ENV"

      - name: 'Create GitHub Issue'
        uses: actions/github-script@v7
        env:
          TITLE: ${{ env.ISSUE_TITLE }}
          BODY: ${{ env.ISSUE_BODY }}
        with:
          script: |
            github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: process.env.TITLE,
              body: process.env.BODY,
              labels: ['ì•Œê³ ë¦¬ì¦˜', 'ìë™ ìƒì„±']
            })
