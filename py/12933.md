## ğŸš€ ì´ìŠˆ ë²ˆí˜¸

**Resolve:** {#1513}

## ğŸ§© ë¬¸ì œ í•´ê²°

**ìŠ¤ìŠ¤ë¡œ í•´ê²°:** âœ…

### ğŸ” ì ‘ê·¼ ê³¼ì •

> ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì ‘ê·¼ ë°©ì‹ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.

- ğŸ”¹ **ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í–ˆëŠ”ì§€** : ?? ì •ë ¬ ?? ê·¸ë¦¬ë”” ??
- ğŸ”¹ **ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í–ˆëŠ”ì§€** : í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë¶€ì¡±í•´ì„œ ë¬¸ì œë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ìš¸ë‹¤ ë§Œ ê²½ìš°ì— ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€, ë“±ì˜ ì„¤ëª…ì´ ë¶€ì¡±í–ˆê¸°ì— ë¬¸ì œë¥¼ í‘¸ëŠ” ë° ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
  - ì²˜ìŒì—ëŠ” quackì´ ëª‡ë²ˆ ë‚˜ì˜¤ëŠ”ì§€ ì„¸ëŠ” ë¬¸ì œë¡œ ì˜¤í•´ë¥¼ í•´ì„œ, idx ë§Œìœ¼ë¡œ ìˆœíšŒí•˜ë©´ì„œ quackì„ ìˆœì„œëŒ€ë¡œ ì…Œì§€ë§Œ, ë¬¸ì œëŠ” ê·¸ê²Œ ì•„ë‹ˆì—ˆê¸°ì— ì²˜ìŒë¶€í„° ë‹¤ì‹œ í’€ì—ˆìŠµë‹ˆë‹¤.
  - ì†Œë¦¬ë¥¼ í˜„ì¬ ë‚´ê³  ìˆëŠ” ì˜¤ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” dequeì¸ quacking_duckê³¼, ì†Œë¦¬ë¥¼ ë‚´ë‹¤ê°€ ë©ˆì¶°ì„œ ë‹¤ì‹œ ì†Œë¦¬ë¥¼ ë‚¼ ìˆ˜ ìˆëŠ” ì˜¤ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” dequeì¸ waiting_duck ë°°ì—´ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ [ì˜¤ë¦¬ë²ˆí˜¸] = ë‚¸ ë§ˆì§€ë§‰ ì†Œë¦¬ idxë¥¼ ê´€ë¦¬í•˜ëŠ” duck_arr ë°°ì—´ë„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 
  - ì´ ì†Œë¦¬ì¸ soundë¥¼ í•œë²ˆë§Œ ìˆœíšŒí•˜ë©´ì„œ 'q' ë¥¼ ë§Œë‚¬ì„ ê²½ìš°, waiting_duckì´ ì—†ìœ¼ë©´ ìƒˆë¡œìš´ duckì„ ì¶”ê°€í•˜ë„ë¡ í–ˆê³ , waiting_duckì´ ìˆìœ¼ë©´ popì„ í•´ì„œ, ìƒˆë¡œìš´ duckì„ ì¶”ê°€í•˜ì§€ ì•Šê³  ì§„í–‰í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
  - qê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì•ŒíŒŒë²³ì„ ë§Œë‚¬ì„ ê²½ìš°ì—, ë§Œì•½ quacking_duck(ì†Œë¦¬ë¥¼ ë‚´ê³  ìˆëŠ” ì˜¤ë¦¬)ê°€ ì—†ìœ¼ë©´ ë°”ë¡œ -1ì„ ì¶œë ¥í•˜ë„ë¡ í–ˆê³ , quacking_duckì´ ìˆë‹¤ë©´, quacking_duckì„ ìˆœíšŒí•˜ë©´ì„œ, ê°€ëŠ¥í•œ ì˜¤ë¦¬ë¥¼ ì°¾ë„ë¡ í–ˆìŠµë‹ˆë‹¤. (ì´ë•Œê°€ëŠ¥í•œ ì˜¤ë¦¬ê°€ ì—†ìœ¼ë©´ -1 ì¶œë ¥)
  - ì´ëŸ° ì‹ìœ¼ë¡œ soundì„ í•œë²ˆ ìˆœíšŒí•˜ê³ , ë§ˆì§€ë§‰ì— duck_arrì—ì„œ ì¤‘ê°„ì— ëŠê¸´ ì˜¤ë¦¬ê°€ ìˆë‹¤ë©´(valueê°€ 4ê°€ ì•„ë‹Œ ê²½ìš°)ëŠ” -1 ì¶œë ¥, ì•„ë‹Œ ê²½ìš°ì—ëŠ” duck_arrì˜ ê¸¸ì´(-1) ì„ ì¶œë ¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. 

### â±ï¸ ì‹œê°„ ë³µì¡ë„

> **ì‹œê°„ ë³µì¡ë„ ë¶„ì„ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.**  
> ìµœì•…ì˜ ê²½ìš° ìˆ˜í–‰ ì‹œê°„ì€ ì–´ëŠ ì •ë„ì¸ì§€ ë¶„ì„í•©ë‹ˆë‹¤.

- **Big-O í‘œê¸°ë²•:** `O(Slog(S))`
- **ì´ìœ :** : í•œë²ˆë§Œ ìˆœíšŒí•˜ë©´ì„œ ì•ˆì—ì„œ ìµœëŒ€ log(S)ë§Œí¼ ì¶”ê°€ë¡œ ìˆœíšŒ

## ğŸ’» êµ¬í˜„ ì½”ë“œ

```python
import sys
from collections import deque
input = sys.stdin.readline

sound = list(input().strip())
s = len(sound)

quack = ['q', 'u', 'a', 'c', 'k']

waiting_duck = deque()
quacking_duck = deque()
duck_arr = [-1] # [ì˜¤ë¦¬ë²ˆí˜¸] = ëë‚œ idx


for idx in range(s) :
    # q ë§ˆì£¼ì¹œ ê²½ìš°
    if sound[idx] == 'q' :
        # ê¸°ë‹¤ë¦¬ëŠ” ì˜¤ë¦¬ê°€ ì—†ëŠ” ê²½ìš° 
        if not waiting_duck :
            # ìƒˆë¡œìš´ ì˜¤ë¦¬ ì¶”ê°€
            quacking_duck.append(len(duck_arr))
            duck_arr.append(0)
        # ê¸°ë‹¤ë¦¬ëŠ” ì˜¤ë¦¬ê°€ ìˆëŠ” ê²½ìš°
        else :
            duck = waiting_duck.popleft()
            quacking_duck.append(duck)
            duck_arr[duck] = 0
        continue
    
    # qê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë¬¸ìë¥¼ ë§ˆì£¼ì¹œ ê²½ìš°


    # ê·¼ë° ì†Œë¦¬ë‚´ëŠ” ì˜¤ë¦¬ê°€ ì—†ëŠ” ê²½ìš°
    if not quacking_duck :
        print(-1)
        exit()
    # ì†Œë¦¬ë‚´ëŠ” ì˜¤ë¦¬ê°€ ìˆëŠ” ê²½ìš°
    else :
        flag = True
        for duck in list(quacking_duck) :
            if sound[idx] == quack[(duck_arr[duck] + 1 )%5]:
                flag = False
                duck_arr[duck] += 1
              
                # quack ëë‚œ ê²½ìš°
                if duck_arr[duck] == 4 :
                    waiting_duck.append(duck)
                    quacking_duck.remove(duck)
                break
        # ì†Œë¦¬ ë‚´ê³  ìˆëŠ” ì˜¤ë¦¬ ì¤‘ì—ì„œ ë‹¤ìŒ soundë¥¼ ë‚¼ ìˆ˜ ìˆëŠ” ì˜¤ë¦¬ê°€ ì—†ëŠ” ê²½ìš° -> sound[idx] = Cì¸ë°, ì˜¤ë¦¬ë“¤ì€ q, quac ì´ëŸ° ì†Œë¦¬ ëƒˆì„ ê²½ìš° 
        if flag :
            print(-1)
            exit()
            
for tmp in range(1, len(duck_arr)) :
    # ì˜¤ë¦¬ ì¤‘ ì¤‘ê°„ì— ì†Œë¦¬ê°€ ëŠê¸´ ì˜¤ë¦¬ê°€ ìˆëŠ” ê²½ìš°
    if duck_arr[tmp] != 4 :
        print(-1)
        exit()
# ëª¨ë‘ë‹¤ ì†Œë¦¬ë¥¼ ì˜ ë‚¸ ê²½ìš°, ì²˜ìŒì— ì¶”ê°€í–ˆë˜ idx=0 ì œì™¸í•˜ê³  ì¶œë ¥
print(len(duck_arr)-1)

```
