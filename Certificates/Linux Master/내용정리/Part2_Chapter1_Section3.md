# 프로세스 관리 명령어 정리

---

### 🔍 프로세스 정보 출력

| 명령어    | 설명 | 주요 옵션 |
|-----------|------|-----------|
| `ps`      | 실행 중인 프로세스 정보 출력<br><small>(`/proc` 가상 파일 시스템 기반)</small> | `-A` : 모든 프로세스<br>`-ef` : 전체 프로세스를 Full Format으로 출력<br>`aux` : 터미널과 무관한 모든 프로세스를 소유자 포함 출력 |
| `pstree`  | 트리 형태로 프로세스 출력 | `-h` : 현재 프로세스 및 부모 강조 표시 |
| `top`     | **실시간** 프로세스 및 리소스 사용량 출력 | `-u [사용자]` : 특정 사용자 기준<br>`-d [초]` : 화면 갱신 주기<br>`-p [PID]` : 특정 PID 기준 |

---
### 🛑 프로세스 종료

| 명령어     | 설명 | 주요 옵션 |
|------------|------|-----------|
| `kill`     | 특정 PID에 시그널 전송 | `-9` : 강제 종료<br>`-15` : 정상 종료 (기본값) |
| `killall`  | 이름 기준으로 모든 프로세스에 시그널 전송 | `-e` : 이름이 정확히 일치할 때만 종료 |
| `pkill`    | 이름 또는 패턴 기준 프로세스 종료 | (옵션 없이도 패턴 검색 가능) |

---

### 🔁 프로세스 전환 (Foreground / Background)

| 명령어 | 설명 | 주요 옵션 |
|--------|------|-----------|
| `jobs` | 현재 백그라운드 작업 목록 출력 | `-l` : PID 포함<br>`-p` : PID만 출력 |
| `fg`   | 백그라운드 → 포그라운드 전환 | `fg %3` 또는 `fg 3` : 3번 잡 실행 |
| `bg`   | 포그라운드 → 백그라운드 전환 | `%`, `%%`, `%+` : 현재 작업<br>`%-`, `-` : 이전 작업 |

### ⚙️ 프로세스 우선순위 조정

| 명령어     | 설명 | 주요 옵션 |
|------------|------|-----------|
| `nice`     | 프로세스 실행 시 우선순위 설정 (-20 ~ 19)<br><small>값이 낮을수록 우선순위 높음</small> | `-n [값]` : 기존 nice 값에 더함 (지정 안 하면 기본 10) |
| `renice`   | 실행 중인 프로세스의 nice 값 재설정 | `renice [값] -p [PID]` 형식으로 사용 |
| `nohup`    | 로그아웃 후에도 프로세스 계속 실행 | `&` 와 함께 사용하여 백그라운드 실행 (`nohup [명령어] &`) |

---

### 🔎 프로세스 검색

| 명령어   | 설명 | 주요 옵션 |
|----------|------|-----------|
| `pgrep`  | 이름 기반으로 PID 검색 | `-x` : 정확히 일치하는 이름만 찾음 |


# 프로세스 관련 파일

### `/proc` 디렉터리
- 커널 내 다양한  정보 포함
- 실제 존재하는 디렉터리가 아닌 **procfs** 라는 가상의 파일 시스템
```bash
# 시스템 부팅시 자동으로 **procfs**가 `/proc`에 마운트
cat /proc/mounts | grep proc
proc /proc proc rw.relatime 0 0

# 또는 직접 마운트
mount -t proc proc /proc
```

- `/proc/PID` : 고유 프로세스 PID 이하에 프로세스 정보 가짐
- `/proc/self` : `/proc`에 접근 중인 현재 프로세스 정보

- `/proc/PID/ ... ` : cmdline, cwd, environ, exe, fd, maps, mem, root, stat, statm, status
- `/proc/...` : cmdline,cpuinfo, devices, fb, filesystems...


### 작업 예약

| 명령어   | 설명 | 주요 옵션 |
|----------|------|-----------|
|`at` | 지정한 시간에 원하는 명령어를 **1회** 실행| `-M` : 메일 안 보냄 |
|`atq`|(현재 사용자의) 예약된 작업 목록 확인, `at -l` 이랑 동일|`sudo atq` : 시스템 전체 예약 작업 확인|
|`atrm`|예약된 작업 삭제, `at -d`와 동일| |
|`crontab`| 수행할 작업 예약, 설정 파일 안 만지고 명령어 통한 `vi` 권장|`-e` : 설정 편집</br>`-l` : 설정 표시</br>`-r` : 설정 삭제|  
###### at 추가 설명
- 예약된 작업은 `/var/spoll/at` 에 개별 파일로 저장
- 명령어 실행 결과는 `/usr/sbin/sendmail`을 통해 메일로 전송
- `/etc/at.allow`와 `/etc/at.deny`로 접근 제어 가능 (원래는 root만 가능한 작업)
###### cron 추가 설명
- cron 서비스는 현 시각 기준 작업이 있는 지 확인하고, **crond** 과 예약정보가 담겨있는 설정 파일로 실행함
- 구성 요소
   - `/etc/crontab` : 시스템 전역 사용 목적을 위한 파일
   - `/ec/crond` : 시스템 유틸리티 등 개별 패키지에 의한 작업 예약
   - `/var/spool/cron` : 개별 사용자를 위해서 이 파일 감시
   - `/etc/cron` .hourly, daily, weekly, monthly가 있음.
```bash
* * * * * user-name command
#분, 시간, 일, 달, 요일 로 구성
```
