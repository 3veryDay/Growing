 ## ğŸ“„ ë¬¸ì œ ì •ë³´

- **í”Œë«í¼**: ë°±ì¤€
- **ë¬¸ì œ ë²ˆí˜¸ / ì´ë¦„**: ë‘ ë°°ì—´ì˜ í•© / 2143
- **ë§í¬**: https://www.acmicpc.net/problem/2143

---

## â“ ë¬¸ì œ ì„¤ëª…

>í•œ ë°°ì—´ A[1], A[2], â€¦, A[n]ì— ëŒ€í•´ì„œ, ë¶€ ë°°ì—´ì€ A[i], A[i+1], â€¦, A[j-1], A[j] (ë‹¨, 1 â‰¤ i â‰¤ j â‰¤ n)ì„ ë§í•œë‹¤. ì´ëŸ¬í•œ ë¶€ ë°°ì—´ì˜ í•©ì€ A[i]+â€¦+A[j]ë¥¼ ì˜ë¯¸í•œë‹¤. ê° ì›ì†Œê°€ ì •ìˆ˜ì¸ ë‘ ë°°ì—´ A[1], â€¦, A[n]ê³¼ B[1], â€¦, B[m]ì´ ì£¼ì–´ì¡Œì„ ë•Œ, Aì˜ ë¶€ ë°°ì—´ì˜ í•©ì— Bì˜ ë¶€ ë°°ì—´ì˜ í•©ì„ ë”í•´ì„œ Tê°€ ë˜ëŠ” ëª¨ë“  ë¶€ ë°°ì—´ ìŒì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

---

## âœï¸ ë¬¸ì œ ì¡°ê±´

- **ì…ë ¥**: ì²«ì§¸ ì¤„ì— T(-1,000,000,000 â‰¤ T â‰¤ 1,000,000,000)ê°€ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ ì¤„ì—ëŠ” n(1 â‰¤ n â‰¤ 1,000)ì´ ì£¼ì–´ì§€ê³ , ê·¸ ë‹¤ìŒ ì¤„ì— nê°œì˜ ì •ìˆ˜ë¡œ A[1], â€¦, A[n]ì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ ì¤„ì—ëŠ” m(1 â‰¤ m â‰¤ 1,000)ì´ ì£¼ì–´ì§€ê³ , ê·¸ ë‹¤ìŒ ì¤„ì— mê°œì˜ ì •ìˆ˜ë¡œ B[1], â€¦, B[m]ì´ ì£¼ì–´ì§„ë‹¤. ê°ê°ì˜ ë°°ì—´ ì›ì†ŒëŠ” ì ˆëŒ“ê°’ì´ 1,000,000ì„ ë„˜ì§€ ì•ŠëŠ” ì •ìˆ˜ì´ë‹¤.
- **ì¶œë ¥**: ì²«ì§¸ ì¤„ì— ë‹µì„ ì¶œë ¥í•œë‹¤. ê°€ëŠ¥í•œ ê²½ìš°ê°€ í•œ ê°€ì§€ë„ ì—†ì„ ê²½ìš°ì—ëŠ” 0ì„ ì¶œë ¥í•œë‹¤.
- **ì œì•½ì¡°ê±´**: 2ì´ˆ, **64MB**

---

## ğŸ’¡ ì•„ì´ë””ì–´ / ì ‘ê·¼

- ì²˜ìŒ ë– ì˜¬ë¦° í’€ì´ ì•„ì´ë””ì–´
    - `defaultdict` ì‚¬ìš©í•´ì„œ, ëª¨ë“  ê°€ëŠ¥í•œ aì˜ ë¶€ë¶„ í•©ì„ êµ¬í•˜ê³ , ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ëª¨ë“  ê°€ëŠ¥í•œ bì˜ ë¶€ë¶„ í•©ì„ êµ¬í•˜ì—¬, ê°€ëŠ¥í•œ ì¡°í•©ì„ cntí•˜ë„ë¡ í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ 64MBì´ë¼ëŠ” ì‘ì€ ë©”ëª¨ë¦¬ ì œí•œì— ê±¸ë ¤ì„œ ë©”ëª¨ë¦¬ ì´ˆê³¼ ì—ëŸ¬ê°€ ëœ¬ë‹¤. ê·¸ë ‡ê¸°ì— default dictì„ ë‘ê°œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, Aì— ëŒ€í•´ì„œë§Œ default dictì„ ì‚¬ìš©í•˜ë„ë¡ í–ˆë‹¤. default dictì˜ keyëŠ” ë¶€ë¶„í•©ì˜ ê°’, valueë¡œëŠ” ë¶€ë¶„í•©ì´ ê·¸ë ‡ê²Œ ë‚˜ì˜¤ëŠ” ì¡°í•©ì˜ íšŸìˆ˜ë¥¼ ì €ì¥í•˜ë„ë¡ í–ˆê³ , Bì— ëŒ€í•œ ë¶€ë¶„ë°°ì—´ì„ ëŒë©°, ë§¤ë²ˆ answer += A_dict[T-Bì˜ ë¶€ë¶„í•©] ì„ ë”í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. 


---

## âœ… ë‚´ í’€ì´

### ğŸ”¹ í’€ì´ ì„¤ëª…(ì•Œê³ ë¦¬ì¦˜ ë©´ì ‘ì´ë¼ê³  ìƒê°í•˜ê³ )

##### ë‚´ê°€ ì‘ì„±

-  `Hash Table`ë¡œ êµ¬í˜„ëœ íŒŒì´ì¬ì˜ ìë£Œí˜•ì¸ `DefaultDict`ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.  ì…ë ¥ëœ ë°°ì—´ Aì— ëŒ€í•´ì„œ ì´ì¤‘ ë£¨í”„ë¥¼ ëŒë©° `sum`ê³¼ ì¸ë±ì‹±ì„ ì‚¬ìš©í•´ì„œ ë¶€ë¶„í•©ì„ êµ¬í–ˆê³ , defaultdict(int)ì„ ì‚¬ìš©í•´ì„œ íŠ¹ì • ë¶€ë¶„í•©ì´ ëª‡ë²ˆ ë‚˜ì˜¤ëŠ”ì§€ë¥¼ ì €ì¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. Bë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë¶€ë¶„í•©ì„ êµ¬í•´ë„ ë˜ì§€ë§Œ, ì‹œê°„ê³¼ ê³µê°„ì„ ì ˆì•½í•˜ê¸° ìœ„í•´ì„œ BëŠ” ì´ì¤‘ ë£¨í”„ë¥¼ ëŒë©° ë¶€ë¶„í•©ì„ êµ¬í•œ ë‹¤ìŒ, ëª©í‘œ ê°’ì¸ T-ë¶€ë¶„í•©ì„ keyë¡œ í•˜ëŠ” Aì˜ defaultdictì˜ valueê°’ì„ ë”í–ˆìŠµë‹ˆë‹¤. 

###### ë‹¤ë“¬ì€ ì•Œê³ ë¦¬ì¦˜ ë‹µë³€ 
- `ì´ì¤‘ ë°˜ë³µë¬¸`ì„ ì‚¬ìš©í•´ì„œ Aì˜ ë¶€ë¶„í•©ì„ êµ¬í•˜ê³ , í•´ë‹¹ í•©ì´ ëª‡ ë²ˆ ë‚˜ì˜¤ëŠ”ì§€ë¥¼ íŒŒì´ì¬ì˜ í•´ì‹œí…Œì´ë¸” ìë£Œí˜•ì¸ `defaultdict`ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, a=[1,3,1] ì¸ ê²½ìš°, ê°€ëŠ¥í•œ ë¶€ë¶„í•©ì€ 1,3,1,4,4,5 ì´ê¸°ì— keyë¥¼ 1ë¡œ ê°€ì§€ë©´ valueëŠ” 2ì…ë‹ˆë‹¤.
- ë‹¤ìŒìœ¼ë¡œ Bì˜ ëª¨ë“  ë¶€ë¶„í•©ì„ ìˆœíšŒí•˜ë©´ì„œ ì •ë‹µì„ ëˆ„ì í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. Bì˜ ë¶€ë¶„í•©ì„ êµ¬í•˜ê³ , ê·¸ ë¶€ë¶„í•©ì„ B_sum ì´ë¼ê³  í•˜ë©´ T-B_sumì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„í•©ì´ ëª‡ë²ˆ ë‚˜ì™”ëŠ”ì§€ í•´ì‹œë§µì„ í†µí•´ ì¡°íšŒí•œ í›„, ê·¸ íšŸìˆ˜ë§Œí¼ ì •ë‹µì— ë”í•´ì¤ë‹ˆë‹¤.
- ì‹œê°„ ë³µì¡ë„ëŠ” Aì˜ ë¶€ë¶„í•©ì„ êµ¬í•  ë•Œ `O(N^2)`, Bì˜ ë¶€ë¶„í•© ìˆœíšŒ ë° ì¡°íšŒ ë•Œ `O(N^2)` ì´ê¸°ì— ì „ì²´ ì‹œê°„ ë³µì¡ë„ëŠ” `O(N^2)`ì…ë‹ˆë‹¤. A,Bì˜ ê¸¸ì´ê°€ 1000 ì´í•˜ì´ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì¸ í’€ì´ì…ë‹ˆë‹¤. 
### ğŸ”¹ ì½”ë“œ

```python
from collections import defaultdict

T = int(input())
A = int(input())
a = list(map(int, input().split()))

B = int(input())
b = list(map(int, input().split()))
answer = 0
A_dict = defaultdict(int)
for start in range(A) :
    for end in range(start, A) :
        if start == end :
            A_dict[a[end]] += 1
        else :
            A_dict[sum(a[start:end+1])] += 1


for start in range(B) :
    for end in range(start, B) :
        B_partial_sum = sum(b[start:end+1])
        answer += A_dict[T-B_partial_sum]
print(answer)
```
### ğŸ”¹ ì‹œê°„ ë³µì¡ë„

- `O(n^2)`

---

## ğŸ” ë‹¤ë¥¸ í’€ì´ / ì°¸ê³  í’€ì´

> ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ ì•„ì´ë””ì–´ë‚˜ ë¸”ë¡œê·¸, í•´ì„¤ ë“±ì—ì„œ ì°¸ê³ í•œ í’€ì´ë“¤ì„ ì ì–´ë³´ì.  
> â†’ **ë‚´ í’€ì´ì™€ ì–´ë–¤ ì ì´ ë‹¤ë¥¸ì§€** ì ì–´ë‘ë©´ ë‚˜ì¤‘ì— ë³µìŠµì— ë„ì›€ë¼!

---

### í’€ì´ #1

- ì„¤ëª…: 
    - `defaultdict` ëŒ€ì‹  `Counter` ë¥¼ ì‚¬ìš©
    - `Counter`ë³´ë‹¤ `DefaultDict`ê°€ ë” ë¹ ë¦„, 
       - most_common, +, - ë“± ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

- ì½”ë“œ:

```python
from collections import Counter
 
T = int(input()) # ë¶€ ë°°ì—´ì˜ í•©ìœ¼ë¡œ ë§Œì¡±ë˜ì•¼ í•˜ëŠ” ê°’
n = int(input()) # ë°°ì—´ Aì˜ ì›ì†Œ ê°œìˆ˜
A = list(map(int,input().split())) # ë°°ì—´ A
m = int(input()) # ë°°ì—´ Bì˜ ì›ì†Œ ê°œìˆ˜
B = list(map(int,input().split())) # ë°°ì—´ B
 
result = 0 # ì¶œë ¥í•  ê°’ 0ìœ¼ë¡œ ì´ˆê¸°í™”
c = Counter() # ì¹´ìš´í„° c ì •ì˜
 
for s in range(n):
    for e in range(s,n):
        c[sum(A[s:e+1])] += 1 # ë°°ì—´ Aì˜ ëª¨ë“  ë¶€ë°°ì—´ì˜ í•©ì„ ì¹´ìš´í„°ì— ê°œìˆ˜ë¡œ ì„¼ë‹¤
        
for s in range(m):
    for e in range(s,m):
        t = T - sum(B[s:e+1]) # íƒ€ê²Ÿ ê°’ Tì—ì„œ Bì˜ ë¶€ë°°ì—´í•©ì„ ëº€ ê°’ì´
        result += c[t] # Aì˜ ë¶€ë°°ì—´ì— ì¡´ì¬í•˜ë©´ resultì— ë”í•´ì¤€ë‹¤. ì—†ìœ¼ë©´ ì €ì ˆë¡œ 0ì´ ë‚˜ì˜¨ë‹¤.
print(result)
```
---

### í’€ì´ #2

- ì„¤ëª…: 
    - ë„ˆë¬´ ë³„ë¡œ. ê·¼ë° bisect.bisect_right(a, x) = ë¦¬ìŠ¤íŠ¸ aì—ì„œ xê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì˜¤ë¥¸ìª½ ê²½ê³„ ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜ 
- ì½”ë“œ:

```python
import bisect
 
T = int(input()) # ë¶€ ë°°ì—´ì˜ í•©ìœ¼ë¡œ ë§Œì¡±ë˜ì•¼ í•˜ëŠ” ê°’
n = int(input()) # ë°°ì—´ Aì˜ ì›ì†Œ ê°œìˆ˜
A = list(map(int,input().split())) # ë°°ì—´ A
m = int(input()) # ë°°ì—´ Bì˜ ì›ì†Œ ê°œìˆ˜
B = list(map(int,input().split())) # ë°°ì—´ B
 
result = 0 # ì¶œë ¥í•  ê°’ 0ìœ¼ë¡œ ì´ˆê¸°í™”
Asum,Bsum=A,B # ê° ë°°ì—´ë¡œ ì´ˆê¸°í™”
for s in range(n):
    for e in range(s+1,n):
        Asum.append(sum(A[s:e+1])) # ë°°ì—´ Aì˜ ëª¨ë“  ë¶€ë°°ì—´ì˜ í•©ì„ ì¶”ê°€í•´ì¤€ë‹¤.
for s in range(m):
    for e in range(s+1,m):
        Bsum.append(sum(B[s:e+1]))# ë°°ì—´ Aì˜ ëª¨ë“  ë¶€ë°°ì—´ì˜ í•©ì„ ì¶”ê°€í•´ì¤€ë‹¤.
 
Asum.sort();Bsum.sort()
 
for i in range(len(Asum)):
    l = bisect.bisect_left(Bsum, T-Asum[i])
    r = bisect.bisect_right(Bsum, T-Asum[i])
    result+=r-l
print(result)
```
